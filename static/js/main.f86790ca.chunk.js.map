{"version":3,"sources":["redux/modules/auth.js","utils/json.js","redux/modules/response.js","services/storage.js","utils/identifier.js","redux/modules/tracks.js","redux/modules/request.js","redux/modules/reducer.js","services/sendsay.js","redux/store.js","services/validation.js","components/Common/Alert/Alert.js","components/Common/Buttons/Button.js","components/Common/Spinner/Spinner.js","components/Common/Icons/Icon.js","components/Common/Icons/Icons.js","components/Common/Buttons/Buttons.js","components/Common/Dropdown/Dropdown.js","components/Common/Field/Field.js","components/Common/Form/Form.js","components/Common/GitHubLink/GitHubLink.js","components/Common/Logo/Logo.js","components/Common/Split/Split.js","components/Common/Track/Track.js","components/Common/User/User.js","components/Login/LoginForm/LoginForm.js","components/Login/Login.js","components/Console/Header/Header.js","utils/fullscreen.js","components/Console/History/List/Item/HistoryListItem.js","utils/clipboard.js","components/Console/History/List/HistoryList.js","components/Console/History/History.js","components/Console/RequestResponse/RequestResponse.js","components/Console/Footer/Footer.js","components/Console/Console.js","components/App/App.js","index.js"],"names":["loginSuccess","user","type","payload","loginError","error","initialState","isSessionRequesting","isLoginRequesting","isAuthenticating","isAuthenticated","parse","str","parsed","JSON","stringify","json","spaces","format","setResponse","value","isError","getItem","key","localStorage","setItem","serializedValue","setSplitSizes","newSizes","identifier","Math","random","toString","substr","trackSelected","id","addTrack","track","clearTracks","selectLastTrack","dispatch","getState","tracks","history","current","setRequest","sendRequest","sendsayService","request","then","response","catch","isInvalid","isRequesting","isRequested","reducer","combineReducers","auth","prevState","action","newValue","isRequsted","find","newTrack","actionName","Boolean","newHistory","filter","length","sessionKey","initialOptions","getCookie","name","document","cookie","match","setCookie","options","cookieValue","cookieOptions","Object","entries","map","cookieValues","join","initSession","sendsay","session","withSublogin","restoreSession","setSessionFromCookie","endSession","authenticate","a","getUser","login","credentials","sublogin","logout","account","body","errorHandler","this","Sendsay","onError","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","withExtraArgument","subscribe","setHistory","isEmpty","trim","includesCyrillicCharacters","test","includesRestrictedCharacters","React","memo","className","title","message","alertClassName","cn","details","WrappedButton","forwardRef","ref","variant","disabled","onClick","startIcon","endIcon","children","buttonClassName","text","contained","renderIcon","icon","position","iconPositionClassName","start","end","iconClassName","props","cloneElement","defaultProps","Spinner","spinnerClassName","Icon","size","viewBox","path","split","x","y","r","width","round","height","fill","stroke","opacity","strokeWidth","strokeLinecap","strokeLinejoin","xmlns","createIcon","rest","Logout","d","Dots","FullScreen","NormalScreen","Format","Clear","LoginButton","loading","LogoutButton","FullScreenButton","isFullScreen","toggleFullScreen","ClearHistoryButton","clear","OptionsButton","toggleOptions","SendRequestButton","send","FormatRequestButton","Dropdown","align","actionElement","isShown","dropdownRef","useRef","useEffect","dropdownElement","actionElementRect","getBoundingClientRect","dropdownElementRect","windowRight","documentElement","clientWidth","top","pageYOffset","clientHeight","bottom","left","right","style","visibility","setDropdownPosition","Option","optionClassNames","Divider","WrappedField","component","label","invalid","optional","fieldClassName","field","createElement","htmlFor","emptyErrors","emptyTouched","Form","state","values","initialValues","errors","intialErrors","touched","initialTouched","isDisabled","onSubmit","event","preventDefault","hasError","validate","onChange","target","setValue","onBlur","setTouched","stateName","items","newItems","setState","setFieldState","toSetError","validation","setError","errorValue","validateField","renderForm","handleChange","handleBlur","handleSubmit","Component","gitHubLinkClassName","href","rel","Logo","ceil","cx","cy","createGutter","gutter","ReactDOM","render","Split","minSize","splitClassName","actualSizes","sizes","expandToMin","gutterSize","gutterAlign","snapOffset","dragInterval","onDragEnd","onOptionsClick","trackRef","optionsRef","trackClassName","statusClassName","stopPropagation","User","userClassName","password","mapDispatchToProps","_","connect","Login","headerClassName","useState","setIsFullScreen","fullscreenElement","exitFullscreen","requestFullscreen","selectTrack","deleteTrack","toggleDropdown","isDropdownShown","requestValue","textarea","setAttribute","append","select","setSelectionRange","execCommand","remove","copyToClipboard","notificationElement","classList","add","textContent","setTimeout","showCopiedNotification","listRef","dropdownIdShown","setDropdownIdShown","useCallback","newId","prevId","closeDropdownHandler","closest","currentListElement","addEventListener","removeEventListener","historyClassName","unselectTrack","currentTrack","isRequestInvalid","isResponseInvalid","requestResponseClassName","formatRequest","footerClassName","Console","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f86790ca.chunk.js","sourcesContent":["function loginRequest() {\n  return {\n    type: 'auth/loginRequest',\n  };\n}\n\nfunction loginSuccess(user) {\n  return {\n    type: 'auth/loginSuccess',\n    payload: user,\n  };\n}\n\nfunction loginError(error) {\n  return {\n    type: 'auth/loginFailure',\n    payload: error,\n  };\n}\n\nfunction logoutSuccess() {\n  return {\n    type: 'auth/logoutSuccess',\n  }\n}\n\nexport function session() {\n  return (dispatch, _, sendsayService) => {\n    sendsayService.authenticate()\n      .then((user) => dispatch(loginSuccess(user)))\n      .catch(() => dispatch(loginError()));\n  };\n}\n\nexport function login(credentials) {\n  return (dispatch, _, sendsayService) => {\n    dispatch(loginRequest());\n    sendsayService.login(credentials)\n      .then((user) => dispatch(loginSuccess(user)))\n      .catch((error) => dispatch(loginError(error)));\n  }\n}\n\nexport function logout() {\n  return (dispatch, _, sendsayService) => {\n    sendsayService.logout()\n      .then(() => dispatch(logoutSuccess()));\n  }\n}\n\nconst initialState = {\n  isSessionRequesting: true,\n  isLoginRequesting: false,\n  isAuthenticating: true,\n  isAuthenticated: false,\n  user: null,\n  error: null,\n};\n\nexport default function auth(prevState = initialState, action) {\n  switch (action.type) {\n    case 'auth/loginRequest':\n      return {\n        ...prevState,\n        isLoginRequesting: true,\n        isAuthenticating: true,\n        isAuthenticated: false,\n      };\n    case 'auth/loginSuccess':\n      return {\n        isSessionRequesting: false,\n        isLoginRequesting: false,\n        isAuthenticating: false,\n        isAuthenticated: true,\n        user: action.payload,\n        error: null,\n      };\n    case 'auth/loginFailure':\n      return {\n        isSessionRequesting: false,\n        isLoginRequesting: false,\n        isAuthenticating: false,\n        isAuthenticated: false,\n        user: null,\n        error: action.payload,\n      };\n    case 'auth/logoutSuccess':\n      return {\n        ...initialState,\n        isSessionRequesting: false,\n        isAuthenticating: false,\n      }\n    default:\n      return prevState;\n  }\n}\n\n","export function parse(str) {\n  try {\n    if (typeof str === 'object') {\n      return str;\n    }\n\n    const parsed = JSON.parse(str);\n\n    if (typeof parsed !== 'object') {\n      return null;\n    }\n\n    return parsed;\n  } catch (error) {\n    return null;\n  }\n}\n\nexport function stringify(json, spaces = 2) {\n  if (!json) {\n    return '';\n  }\n\n  if (typeof json === 'string') {\n    return json;\n  }\n\n  return JSON.stringify(json, null, spaces);\n}\n\nexport function format(str, spaces = 2) {\n  const parsed = parse(str);\n\n  if (!parsed) {\n    return null;\n  }\n\n  return stringify(parsed, spaces);\n}\n","import { stringify } from 'utils/json';\n\nexport function setResponse(value, isError = false) {\n  return {\n    type: 'response/setResponse',\n    payload: {\n      value,\n      isError,\n    },\n  };\n}\n\nconst initialState = {\n  value: '',\n  isError: false,\n};\n\nexport default function response(prevState = initialState, action) {\n  switch (action.type) {\n    case 'response/setResponse':\n      let { value, isError } = action.payload;\n\n      return {\n        value: stringify(value),\n        isError,\n      };\n    default:\n      return prevState;\n  }\n}\n","import { stringify } from 'utils/json';\n\nfunction getItem(key) {\n  return JSON.parse(localStorage.getItem(key));\n}\n\nfunction setItem(key, value) {\n  const serializedValue = stringify(value);\n  localStorage.setItem(key, serializedValue);\n}\n\nexport function getHistory() {\n  return getItem('track_history') || [];\n}\n\nexport function setHistory(newHistory) {\n  setItem('track_history', newHistory);\n}\n\nexport function getSplitSizes() {\n  return getItem('split_sizes') || [50, 50];\n}\n\nexport function setSplitSizes(newSizes) {\n  setItem('split_sizes', newSizes);\n}\n","export function identifier() {\n  return Math.random().toString(36).substr(2, 9);\n}\n","import { setRequest } from './request';\nimport { setResponse } from './response';\nimport { getHistory } from 'services/storage';\nimport { identifier } from 'utils/identifier';\nimport { parse } from 'utils/json';\n\nfunction trackSelected(id) {\n  return {\n    type: 'tracks/selectTrack',\n    payload: id,\n  };\n}\n\nexport function addTrack(track) {\n  return {\n    type: 'tracks/addTrack',\n    payload: track,\n  };\n}\n\nexport function deleteTrack(id) {\n  return {\n    type: 'tracks/deleteTrack',\n    payload: id,\n  };\n}\n\nexport function clearTracks() {\n  return {\n    type: 'tracks/clearTracks',\n  };\n}\n\nexport function selectTrack(id) {\n  return (dispatch, getState) => {\n    dispatch(trackSelected(id));\n\n    const { request, response, error, isError } = getState().tracks.current;\n\n    dispatch(setRequest(request));\n    dispatch(setResponse(response || error, isError));\n  }\n}\n\nexport function selectLastTrack() {\n  return (dispatch, getState) => {\n    const lastId = getState().tracks.history[0].id;\n    dispatch(trackSelected(lastId));\n  };\n}\n\nexport function unselectTrack() {\n  return {\n    type: 'tracks/unselectTrack',\n  };\n}\n\nconst maxHistoryLength = 20;\n\nconst initialState = {\n  current: null,\n  history: getHistory(),\n};\n\nexport default function tracks(prevState = initialState, action) {\n  const { history } = prevState;\n\n  switch (action.type) {\n    case 'tracks/selectTrack':\n      return {\n        ...prevState,\n        current: history.find((track) => track.id === action.payload) || null,\n      };\n    case 'tracks/unselectTrack':\n      return {\n        ...prevState,\n        current: null,\n      };\n    case 'tracks/addTrack':\n      let { request, response = null, error = null } = action.payload;\n\n      const newTrack = {\n        id: identifier(),\n        actionName: request.action || 'null',\n        request: parse(request),\n        response,\n        error,\n        isError: Boolean(error),\n      };\n\n      const newHistory = [\n        newTrack,\n        ...history.filter((track) => track.actionName !== newTrack.actionName),\n      ];\n\n      if (newHistory.length > maxHistoryLength) {\n        newHistory.length = maxHistoryLength;\n      }\n\n      return {\n        ...prevState,\n        history: newHistory,\n      };\n    case 'tracks/deleteTrack':\n      return {\n        ...prevState,\n        history: history.filter((track) => track.id !== action.payload),\n      };\n    case 'tracks/clearTracks':\n      return {\n        ...prevState,\n        history: [],\n      };\n    default:\n      return prevState;\n  }\n}\n\n","import { setResponse } from './response';\nimport { addTrack, selectLastTrack } from './tracks';\nimport { parse, format, stringify } from 'utils/json';\n\nfunction requestSended() {\n  return {\n    type: 'request/sendRequest',\n  };\n}\n\nfunction requestCompleted() {\n  return {\n    type: 'request/completeRequest',\n  };\n}\n\nexport function setRequest(value) {\n  return {\n    type: 'request/setRequest',\n    payload: value,\n  };\n}\n\nexport function formatRequest() {\n  return {\n    type: 'request/formatRequest',\n  };\n}\n\nexport function invalidRequest() {\n  return {\n    type: 'request/invalidRequest',\n  };\n}\n\nexport function sendRequest() {\n  return (dispatch, getState, sendsayService) => {\n    const { value } = getState().request;\n    const request = parse(value);\n\n    if (!request) {\n      return dispatch(invalidRequest());\n    }\n\n    dispatch(requestSended());\n\n    return sendsayService.request(request)\n      .then((response) => {\n        dispatch(setResponse(response));\n        dispatch(addTrack({ request, response }));\n      })\n      .catch((error) => {\n        dispatch(setResponse(error, true));\n        dispatch(addTrack({ request, error }));\n      })\n      .then(() => {\n        dispatch(requestCompleted());\n        dispatch(selectLastTrack());\n      });\n  };\n};\n\nconst initialState = {\n  value: '',\n  isInvalid: false,\n  isRequesting: false,\n  isRequested: false,\n};\n\nexport default function request(prevState = initialState, action) {\n  switch (action.type) {\n    case 'request/setRequest':\n      return {\n        ...initialState,\n        value: stringify(action.payload),\n        isInvalid: false,\n      };\n    case 'request/formatRequest': {\n      let newValue = format(prevState.value);\n      const isInvalid = newValue === null;\n\n      if (isInvalid) {\n        newValue = prevState.value;\n      }\n\n      return {\n        ...prevState,\n        value: newValue,\n        isInvalid,\n      };\n    }\n    case 'request/invalidRequest':\n      return {\n        ...prevState,\n        isInvalid: true,\n      }\n    case 'request/sendRequest':\n      return {\n        ...prevState,\n        isInvalid: false,\n        isRequesting: true,\n        isRequested: false,\n      };\n    case 'request/completeRequest':\n      return {\n        ...prevState,\n        isRequesting: false,\n        isRequsted: true,\n      };\n    default:\n      return prevState;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport auth from './auth';\nimport request from './request';\nimport response from './response';\nimport tracks from './tracks';\n\nconst reducer = combineReducers({\n  auth,\n  request,\n  response,\n  tracks,\n});\n\nexport default reducer;\n","import Sendsay from 'sendsay-api';\n\nconst sessionKey = 'sendsay_session';\nconst withSubloginKey = 'with_sublogin';\n\nconst initialOptions = {\n  'max-age': 60 * 60 * 24,\n};\n\nfunction getCookie(name) {\n  return (document.cookie.match(`(^|; )${name}=([^;]*)`) || 0)[2];\n}\n\nfunction setCookie(name, value, options = {}) {\n  const cookieValue = `${name}=${value}`;\n  const cookieOptions = Object.entries(options).map(([key, value]) => `${key}=${value}`);\n\n  const cookieValues = [\n    cookieValue,\n    ...cookieOptions,\n  ];\n\n  document.cookie = cookieValues.join(';');\n}\n\nexport default class SendsayService {\n  constructor(options = initialOptions) {\n    this.options = options;\n    this.sendsay = new Sendsay();\n    this.sendsay.onError(this.errorHandler);\n  }\n\n  initSession = () => {\n    setCookie(sessionKey, this.sendsay.session, this.options);\n    setCookie(withSubloginKey, this.withSublogin, this.options);\n  }\n\n  restoreSession = () => {\n    this.sendsay.setSessionFromCookie(sessionKey);\n\n    if (this.sendsay.session) {\n      this.withSublogin = getCookie(withSubloginKey) === 'true';\n    }\n  }\n\n  endSession = () => {\n    const options = {\n      'max-age': -1,\n    };\n\n    setCookie(sessionKey, '', options);\n    setCookie(withSubloginKey, '', options);\n  }\n\n  authenticate = async () => {\n    this.restoreSession();\n    return await this.getUser();\n  }\n\n  login = async (credentials) => {\n    this.withSublogin = Boolean(credentials.sublogin);\n\n    await this.sendsay.login(credentials);\n    this.initSession();\n\n    return await this.getUser();\n  }\n\n  logout = async () => {\n    await this.request({ action: 'logout' });\n    this.endSession();\n  }\n\n  getUser = async () => {\n    const user = {};\n\n    const { account, sublogin } = await this.sendsay.request({ action: 'pong' });\n\n    user.login = account;\n    user.sublogin = this.withSublogin ? sublogin : null;\n\n    return user;\n  }\n\n  request = async (body) => {\n    return this.sendsay.request(body);\n  }\n\n  errorHandler = (error) => {\n    delete error.request;\n    return error;\n  }\n}\n\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport reducer from './modules/reducer';\nimport SendsayService from 'services/sendsay';\nimport { setHistory } from 'services/storage';\n\nconst sendsayService = new SendsayService()\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(\n    applyMiddleware(thunk.withExtraArgument(sendsayService)),\n  ),\n);\n\nlet currentHistory = null;\n\nstore.subscribe(() => {\n  const newHistory = store.getState().tracks.history;\n\n  if (currentHistory !== newHistory) {\n    setHistory(newHistory);\n  }\n});\n\nexport default store;\n","function isEmpty(value) {\n  return value.trim() === '';\n}\n\nfunction isEmail(value) {\n  const re = /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\\.[a-zA-Z0-9-]+)*$/g;\n  return re.test(value);\n}\n\nexport function includesCyrillicCharacters(value) {\n  const re = /[ЁёА-я]/g;\n  return re.test(value);\n}\n\nexport function includesRestrictedCharacters(value) {\n  const re = /[^\\w_]/;\n  return value.match(re);\n}\n\nexport function isLoginCorrect(login) {\n  if (isEmpty(login)) {\n    return false;\n  }\n\n  if (isEmail(login)) {\n    return true;\n  }\n\n  if (\n    includesCyrillicCharacters(login) ||\n    includesRestrictedCharacters(login)\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isSubloginCorrect(sublogin) {\n  if (\n    includesCyrillicCharacters(sublogin) ||\n    includesRestrictedCharacters(sublogin)\n  ) {\n    return false;\n  }\n\n  return true;\n}\n\nexport function isPasswordCorrect(password) {\n  if (\n    isEmpty(password) ||\n    includesCyrillicCharacters(password)\n  ) {\n    return false;\n  }\n\n  return true;\n}\n","import React from 'react';\nimport cn from 'classnames';\nimport { stringify } from 'utils/json';\n\nimport './Alert.css';\n\nfunction Alert({ className, title, message }) {\n  if (!message) {\n    return null;\n  }\n\n  const alertClassName = cn('alert', className);\n  const details = stringify(message, null, ' ');\n\n  return (\n    <div className={alertClassName}>\n      {title && <h3 className=\"alert__title\">{title}</h3>}\n      {details && <div className=\"alert__details\">{details}</div>}\n    </div>\n  );\n};\n\nexport default React.memo(Alert);\n","import React from 'react';\nimport cn from 'classnames';\n\nimport './Button.css';\n\nfunction Button({\n  className,\n  type,\n  variant,\n  disabled,\n  onClick,\n  startIcon,\n  endIcon,\n  children,\n}, ref) {\n  const variantClassNames = {\n    text: 'button--variant-text',\n    contained: 'button--variant-contained',\n  };\n\n  const buttonClassName = cn('button', variantClassNames[variant], className);\n\n  const renderIcon = (icon, position) => {\n    if (!icon) {\n      return null;\n    }\n\n    const iconPositionClassNames = {\n      start: 'button__icon--position-start',\n      end: 'button__icon--position-end',\n    };\n\n    const iconPositionClassName = children\n      ? iconPositionClassNames[position]\n      : null;\n\n    const iconClassName = cn(\n      'button__icon',\n      iconPositionClassName,\n      icon.props.className,\n    );\n\n    return React.cloneElement(icon, { className: iconClassName });\n  };\n\n  return (\n    <button\n      ref={ref}\n      type={type}\n      className={buttonClassName}\n      disabled={disabled}\n      onClick={onClick}\n    >\n      {renderIcon(startIcon, 'start')}\n      {children && <span className=\"button__label\">{children}</span>}\n      {renderIcon(endIcon, 'end')}\n    </button>\n  );\n};\n\nconst WrappedButton = React.memo(React.forwardRef(Button));\n\nWrappedButton.defaultProps = {\n  type: 'button',\n  variant: 'text',\n};\n\nexport default WrappedButton;\n","import React from 'react';\nimport cn from 'classnames';\n\nimport './Spinner.css';\n\nexport default function Spinner({ className }) {\n  const spinnerClassName = cn('spinner', className);\n\n  return (\n    <div className={spinnerClassName}>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n  );\n}\n","import React from 'react';\n\nconst noColor = 'none';\nconst defaultColor = '#0d0d0d';\nconst defaultOpacity = '0.8';\n\nexport default function Icon({ className, size, viewBox, children: path }) {\n  if (!path) {\n    return null;\n  }\n\n  const [x, y, w, h] = viewBox.split(' ');\n  const r = (w - x) / (h - y);\n  const width = Math.round(size * r);\n\n  return (\n    <svg\n      className={className}\n      width={width}\n      height={size}\n      viewBox={viewBox}\n      fill={noColor}\n      stroke={defaultColor}\n      opacity={defaultOpacity}\n      strokeWidth=\"2\"\n      strokeLinecap=\"round\"\n      strokeLinejoin=\"round\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      {path}\n    </svg>\n  );\n};\n\nIcon.defaultProps = {\n  size: '24',\n  viewBox: '0 0 24 24',\n};\n\nexport function createIcon(path, props) {\n  return function Component(rest) {\n    return (\n      <Icon {...props} {...rest}>\n        {path}\n      </Icon>\n    );\n  }\n}\n","import React from 'react';\nimport { createIcon } from './Icon';\n\nexport const Logout = createIcon(\n  <path d=\"M9 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H9 M16 17L21 12L16 7 M21 12H9\" />\n);\n\nexport const Dots = createIcon(\n  <path d=\"M 11, 6  a 1, 0 0 1, 1 1, 0 a 1, 1 0 1, 0 -1, 0 M 11, 13 a 1, 0 0 1, 1 1, 0 a 1, 1 0 1, 0 -1, 0 M 11, 20 a 1, 0 0 1, 1 1, 0 a 1, 1 0 1, 0 -1, 0\" />\n);\n\nexport const FullScreen = createIcon(\n  <path d=\"M8 3H5C4.46957 3 3.96086 3.21071 3.58579 3.58579C3.21071 3.96086 3 4.46957 3 5V8M21 8V5C21 4.46957 20.7893 3.96086 20.4142 3.58579C20.0391 3.21071 19.5304 3 19 3H16M16 21H19C19.5304 21 20.0391 20.7893 20.4142 20.4142C20.7893 20.0391 21 19.5304 21 19V16M3 16V19C3 19.5304 3.21071 20.0391 3.58579 20.4142C3.96086 20.7893 4.46957 21 5 21H8\" />\n);\n\nexport const NormalScreen = createIcon(\n  <path d=\"M3 8H6C6.53043 8 7.03914 7.78929 7.41421 7.41421C7.78929 7.03914 8 6.53043 8 6V3M16 3V6C16 6.53043 16.2107 7.03914 16.5858 7.41421C16.9609 7.78929 17.4696 8 18 8H21M21 16H18C17.4696 16 16.9609 16.2107 16.5858 16.5858C16.2107 16.9609 16 17.4696 16 18V21M8 21V18C8 17.4696 7.78929 16.9609 7.41421 16.5858C7.03914 16.2107 6.53043 16 6 16H3\" />\n);\n\nexport const Format = createIcon(\n  <path d=\"M21 10H7 M11 6H3 M12 14H7 M7 18H3\" />\n);\n\nexport const Clear = createIcon(\n  <path d=\"M3 3L21 21 M21 3L3 21\" />\n);\n","import React from 'react';\n\nimport Button from './Button';\nimport Spinner from '../Spinner';\nimport {\n  Logout,\n  FullScreen,\n  NormalScreen,\n  Format,\n  Clear,\n  Dots\n} from '../Icons';\n\nexport const LoginButton = React.memo(function LoginButton({ disabled, loading }) {\n  return (\n    <Button\n      type=\"submit\"\n      variant=\"contained\"\n      disabled={disabled}\n      startIcon={loading && <Spinner />}\n    >\n      {!loading && 'Войти'}\n    </Button>\n  );\n});\n\nexport function LogoutButton({ className, logout }) {\n  return (\n    <Button\n      className={className}\n      onClick={logout}\n      endIcon={<Logout />}\n    >\n      Выйти\n    </Button>\n  );\n}\n\nexport function FullScreenButton({ className, isFullScreen, toggleFullScreen }) {\n  return (\n    <Button\n      className={className}\n      onClick={toggleFullScreen}\n      startIcon={isFullScreen\n        ? <NormalScreen />\n        : <FullScreen />\n      }\n    />\n  );\n}\n\nexport function ClearHistoryButton({ className, clear }) {\n  return (\n    <Button\n      className={className}\n      onClick={clear}\n      startIcon={<Clear />}\n    />\n  );\n};\n\nexport const OptionsButton = React.forwardRef(function OptionsButton({ className, toggleOptions }, ref) {\n  return (\n    <Button\n      ref={ref}\n      className={className}\n      onClick={toggleOptions}\n      startIcon={<Dots />}\n    />\n  );\n});\n\nexport function ResizeRequestResponseButton({ className, resize }) {\n  return (\n    <Button\n      className={className}\n      onClick={resize}\n      startIcon={<Dots />}\n    />\n  );\n}\n\nexport function SendRequestButton({ send, disabled, loading }) {\n  return (\n    <Button\n      variant=\"contained\"\n      disabled={disabled}\n      onClick={send}\n      startIcon={loading && <Spinner />}\n    >\n      {!loading && 'Отправить'}\n    </Button>\n  );\n}\n\nexport const FormatRequestButton = React.memo(function FormatRequestButton({ className, format }) {\n  return (\n    <Button\n      className={className}\n      onClick={format}\n      startIcon={<Format />}\n    >\n      Форматировать\n    </Button>\n  );\n});\n","import React, { useRef, useEffect } from 'react';\nimport cn from 'classnames';\n\nimport './Dropdown.css';\n\nfunction Dropdown({ align, actionElement, isShown, children }) {\n  const dropdownRef = useRef(null);\n\n  const setDropdownPosition = () => {\n    const dropdownElement = dropdownRef.current;\n    const actionElementRect = actionElement.getBoundingClientRect();\n    const dropdownElementRect = dropdownElement.getBoundingClientRect();\n\n    const windowRight = document.documentElement.clientWidth;\n    const windowBottom = window.pageYOffset + document.documentElement.clientHeight;\n\n    const top = windowBottom < dropdownElementRect.bottom\n      ? actionElementRect.top - dropdownElementRect.height\n      : actionElementRect.bottom;\n\n    let left = align === 'right'\n      ? actionElementRect.right - dropdownElementRect.width\n      : actionElementRect.left;\n\n    if (left < 0) {\n      left = 0;\n    } else if (left > windowRight - dropdownElementRect.width) {\n      left = windowRight - dropdownElementRect.width;\n    }\n\n    dropdownElement.style.left = left + 'px';\n    dropdownElement.style.top = top + 'px';\n    dropdownElement.style.visibility = 'visible';\n  };\n\n  useEffect(() => {\n    if (isShown) {\n      setDropdownPosition();\n    }\n  });\n\n  if (!isShown) {\n    return null;\n  }\n\n  return (\n    <ul className=\"dropdown\" ref={dropdownRef}>\n      {children}\n    </ul>\n  );\n}\n\n\nfunction Option({ variant, onClick, children }) {\n  const optionClassNames = cn('dropdown__option', variant && `dropdown__option--variant-${variant}`);\n  return (\n    <li\n      className={optionClassNames}\n      onClick={onClick}\n    >\n      {children}\n    </li>\n  );\n}\n\nfunction Divider() {\n  return (\n    <div className=\"dropdown__divider\" />\n  );\n}\n\nDropdown.Option = Option;\nDropdown.Divider = Divider;\n\nexport default Dropdown;\n","import React from 'react';\nimport cn from 'classnames';\n\nimport './Field.css';\n\nfunction Field({\n  className,\n  component,\n  name,\n  label,\n  invalid,\n  optional,\n  ...rest\n}) {\n  const fieldClassName = cn('field', className, { 'field--invalid': invalid });\n\n  const field = React.createElement(component, {\n    className: `field__${component}`,\n    name,\n    ...rest,\n  });\n\n  return (\n    <div className={fieldClassName}>\n      <div className=\"field__label\">\n        <label htmlFor={name}>{label}</label>\n        {optional && <span className=\"field__optional\">Опционально</span>}\n      </div>\n\n      {field}\n    </div>\n  );\n}\n\nconst WrappedField = React.memo(Field);\n\nWrappedField.defaultProps = {\n  type: 'text',\n  component: 'input',\n  disabled: false,\n};\n\nexport default WrappedField;\n","import { Component } from 'react';\n\nconst emptyErrors = {};\nconst emptyTouched = {};\n\nexport default class Form extends Component {\n  state = {\n    values: this.props.initialValues,\n    errors: this.props.intialErrors || emptyErrors,\n    touched: this.props.initialTouched || emptyTouched,\n    isDisabled: true,\n  };\n\n  componentDidMount() {\n    this.validate();\n  }\n\n  setFieldState(stateName, key, value) {\n    const items = this.state[stateName];\n\n    const newItems = {\n      ...items,\n      [key]: value,\n    };\n\n    this.setState({ [stateName]: newItems });\n  }\n\n  setValue(name, value) {\n    this.setFieldState('values', name, value);\n  }\n\n  setError(name, value) {\n    this.setFieldState('errors', name, value);\n  }\n\n  setTouched(name) {\n    this.setFieldState('touched', name, true);\n  }\n\n  validateField(name, toSetError = true) {\n    const { validation } = this.props;\n    const { values } = this.state;\n\n    const value = values[name];\n    const validate = validation[name];\n    let error = false;\n\n    if (validate && typeof validate === 'function') {\n      error = !validate(value);\n    }\n\n    if (toSetError) {\n      this.setError(name, error);\n    }\n\n    return error;\n  }\n\n  validate() {\n    if (!this.props.validation) {\n      return;\n    }\n\n    const { values } = this.state;\n\n    const errors = {};\n    let hasError = false;\n\n    for (let name in values) {\n      const errorValue = this.validateField(name, false);\n\n      if (errorValue) {\n        hasError = true;\n      }\n\n      errors[name] = errorValue;\n    }\n\n    this.setState({\n      errors,\n      isDisabled: hasError,\n    });\n\n    return hasError;\n  }\n\n  onSubmit = async event => {\n    event.preventDefault();\n\n    const { values, isDisabled } = this.state;\n    const { onSubmit } = this.props;\n\n    const hasError = this.validate();\n\n    if (isDisabled || hasError) {\n      return;\n    }\n\n    await onSubmit(values);\n  }\n\n  onChange = async event => {\n    const { name, value } = event.target;\n    await this.setValue(name, value);\n    this.validate();\n  }\n\n  onBlur = event => {\n    const { name } = event.target;\n    this.setTouched(name);\n  }\n\n  render() {\n    const renderForm = this.props.children;\n    const form = renderForm({\n      ...this.state,\n      handleChange: this.onChange,\n      handleBlur: this.onBlur,\n      handleSubmit: this.onSubmit,\n    });\n\n    return form;\n  }\n}\n","import React from 'react';\nimport cn from 'classnames';\n\nimport './GitHubLink.css';\n\nfunction GitHubLink({ className, login }) {\n  const gitHubLinkClassName = cn('gitHubLink', className);\n\n  return (\n    <a\n      className={gitHubLinkClassName}\n      href={`https://github.com/${login}`}\n      rel=\"noopener noreferrer\"\n      target=\"_blank\"\n    >\n      {'@' + login}\n    </a>\n  );\n}\n\nexport default React.memo(GitHubLink);\n","import React from 'react';\n\nexport default function Logo({ className, size }) {\n  return (\n    <svg\n      className={className}\n      width={Math.ceil(size * 3.833)}\n      height={size}\n      viewBox=\"0 0 115 30\"\n      fill=\"#000\"\n      opacity=\"0.2\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <circle cx=\"15\" cy=\"15\" r=\"15\" />\n      <circle cx=\"70\" cy=\"15\" r=\"15\" />\n      <rect x=\"35\" width=\"15\" height=\"30\" />\n      <path d=\"M100 0H115L100 30H85L100 0Z\" />\n    </svg>\n  );\n}\n\nLogo.defaultProps = {\n  size: '30',\n};\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport cn from 'classnames';\nimport { getSplitSizes, setSplitSizes } from 'services/storage';\n\nimport { default as SplitController } from 'react-split';\nimport { Dots } from '../Icons';\n\nimport './Split.css';\n\nfunction createGutter() {\n  const gutter = document.createElement('div');\n  gutter.className = 'split__gutter';\n\n  ReactDOM.render(<Dots className=\"split__icon\"/>, gutter);\n\n  return gutter;\n}\n\nexport default function Split({ className, minSize, children }) {\n  const splitClassName = cn('split', className);\n  const actualSizes = getSplitSizes();\n\n  return (\n    <SplitController\n      className={splitClassName}\n      sizes={actualSizes}\n      minSize={minSize}\n      expandToMin={false}\n      gutterSize={10}\n      gutterAlign=\"center\"\n      snapOffset={15}\n      dragInterval={1}\n      gutter={createGutter}\n      onDragEnd={setSplitSizes}\n    >\n      {children}\n    </SplitController>\n  );\n}\n\nSplit.defaultProps = {\n  minSize: 280,\n};\n","import React from 'react';\nimport cn from 'classnames';\n\nimport { OptionsButton } from '../Buttons';\n\nimport './Track.css';\n\nfunction Track({ id, className, actionName, isError, onClick, onOptionsClick }, ref) {\n  const { trackRef, optionsRef } = ref;\n  const trackClassName = cn('track', className);\n  const statusClassName = cn('track__status', {\n    'track__status--success': !isError,\n    'track__status--fail': isError,\n  });\n\n  return (\n    <div ref={trackRef} className={trackClassName} onClick={() => onClick(id)}>\n      <span className={statusClassName} />\n      <span className=\"track__action\">{actionName}</span>\n      <OptionsButton\n        className=\"track__options\"\n        ref={optionsRef}\n        toggleOptions={(event) => {\n          onOptionsClick(id);\n          event.stopPropagation();\n        }}\n      />\n    </div>\n  );\n}\n\nexport default React.forwardRef(Track);\n","import React from 'react';\nimport cn from 'classnames';\n\nimport './User.css';\n\nexport default function User({ className, login, sublogin }) {\n  const userClassName = cn('user', className);\n\n  return (\n    <div className={userClassName}>\n      {login}\n      {sublogin && <span className=\"user__divider\">:</span>}\n      {sublogin}\n    </div>\n  );\n}\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport { login } from 'redux/modules/auth';\nimport { isLoginCorrect, isSubloginCorrect, isPasswordCorrect } from 'services/validation';\n\nimport { Alert, Form, Field, LoginButton } from 'components/Common';\n\nimport './LoginForm.css';\n\nconst initialValues = {\n  login: '',\n  sublogin: '',\n  password: '',\n};\n\nconst validation = {\n  login: isLoginCorrect,\n  sublogin: isSubloginCorrect,\n  password: isPasswordCorrect,\n};\n\nfunction LoginForm({ login, error, isLoginRequesting}) {\n  return (\n    <Form\n      initialValues={initialValues}\n      validation={validation}\n      onSubmit={login}\n    >\n      {\n        ({\n          values,\n          errors,\n          touched,\n          isDisabled,\n          handleChange,\n          handleBlur,\n          handleSubmit,\n        }) => (\n            <form\n              className=\"loginForm\"\n              onSubmit={handleSubmit}\n            >\n              <h2 className=\"loginForm__title\">\n                API-консолька\n              </h2>\n\n              <Alert\n                className=\"loginForm__alert\"\n                title=\"Вход не вышел\"\n                message={error}\n              />\n\n              <Field\n                className=\"loginForm__field\"\n                name=\"login\"\n                label=\"Логин\"\n                value={values.login}\n                invalid={errors.login && touched.login}\n                onChange={handleChange}\n                onBlur={handleBlur}\n              />\n\n              <Field\n                className=\"loginForm__field\"\n                name=\"sublogin\"\n                label=\"Сублогин\"\n                value={values.sublogin}\n                invalid={errors.sublogin && touched.sublogin}\n                onChange={handleChange}\n                onBlur={handleBlur}\n                optional\n              />\n\n              <Field\n                className=\"loginForm__field\"\n                type=\"password\"\n                name=\"password\"\n                label=\"Пароль\"\n                value={values.password}\n                invalid={errors.password && touched.password}\n                onChange={handleChange}\n                onBlur={handleBlur}\n              />\n\n              <LoginButton\n                disabled={isDisabled}\n                loading={isLoginRequesting}\n              />\n            </form>\n          )\n      }\n    </Form>\n  );\n}\n\nfunction mapStateToProps({ auth: { error, isLoginRequesting } }) {\n  return {\n    error,\n    isLoginRequesting,\n  };\n}\n\nconst mapDispatchToProps = {\n  login,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoginForm);\n","import React from 'react';\n\nimport LoginForm from './LoginForm';\nimport { Logo, GitHubLink } from '../Common';\n\nimport './Login.css';\n\nexport default function Login() {\n  return (\n    <div className=\"login\">\n      <div className=\"login__container\">\n        <Logo className=\"login__logo\" />\n\n        <LoginForm />\n\n        <GitHubLink\n          className=\"login__gitHubLink\"\n          login=\"testerimo\"\n        />\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\nimport cn from 'classnames';\nimport { connect } from 'react-redux';\nimport { logout } from 'redux/modules/auth';\nimport { clearTracks } from 'redux/modules/tracks';\nimport { toggleFullScreen } from 'utils/fullscreen';\n\nimport { Logo, User, LogoutButton, FullScreenButton } from 'components/Common'\n\nimport './Header.css';\n\nfunction Header({ className, user, logout, clearTracks }) {\n  const headerClassName = cn('header', className);\n\n  const [isFullScreen, setIsFullScreen] = useState(false);\n\n  const handleFullScreen = () => {\n    setIsFullScreen(isFullScreen => !isFullScreen);\n    toggleFullScreen();\n  };\n\n  const handleLogout = () => {\n    clearTracks();\n    logout();\n  };\n\n  return (\n    <div className={headerClassName}>\n      <Logo className=\"header__logo\" />\n\n      <h2 className=\"header__title\">\n        API-консолька\n      </h2>\n\n      <User\n        className=\"header__user\"\n        login={user.login}\n        sublogin={user.sublogin}\n      />\n\n      <LogoutButton\n        className=\"header__logout\"\n        logout={handleLogout}\n      />\n\n      <FullScreenButton\n        className=\"header__fullScreen\"\n        isFullScreen={isFullScreen}\n        toggleFullScreen={handleFullScreen}\n      />\n    </div>\n  );\n}\n\nfunction mapStateToProps({ auth: { user } }) {\n  return {\n    user,\n  };\n}\n\nconst mapDispatchToProps = {\n  logout,\n  clearTracks,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\n","export function toggleFullScreen() {\n  if (document.fullscreenElement) {\n    document.exitFullscreen();\n  } else {\n    document.documentElement.requestFullscreen();\n  }\n}\n","import React, { useRef } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\nimport { setResponse } from 'redux/modules/response';\nimport { setRequest, sendRequest } from 'redux/modules/request';\nimport { selectTrack, selectLastTrack, deleteTrack } from 'redux/modules/tracks';\nimport { copyToClipboard } from 'utils/clipboard';\nimport { stringify } from 'utils/json';\n\nimport { Track, Dropdown } from 'components/Common';\n\nfunction HistoryListItem({\n  track,\n  toggleDropdown,\n  isDropdownShown,\n  selectTrack,\n  selectLastTrack,\n  deleteTrack,\n  setRequest,\n  sendRequest,\n  setResponse,\n}) {\n  const { id, request, actionName, isError } = track;\n  const requestValue = stringify(request);\n\n  const trackRef = useRef(null);\n  const optionsRef = useRef(null)\n\n  const showCopiedNotification = () => {\n    const notificationElement = document.createElement('div');\n    notificationElement.classList.add('history__track--notification-copied');\n    notificationElement.textContent = 'Скопировано';\n\n    trackRef.current.append(notificationElement);\n\n    setTimeout(() => {\n      notificationElement.remove();\n    }, 800);\n  };\n\n  const copyTrack = () => {\n    copyToClipboard(requestValue);\n    showCopiedNotification();\n  };\n\n  const executeTrack = () => {\n    setRequest(requestValue);\n    setResponse(null);\n    sendRequest().then(selectLastTrack);\n  };\n\n  const deleteFromHistory = () => {\n    deleteTrack(id);\n  };\n\n  return (\n    <li className=\"history__item\">\n      <Track\n        id={id}\n        ref={{ trackRef, optionsRef }}\n        className=\"history__track\"\n        actionName={actionName}\n        isError={isError}\n        onClick={selectTrack}\n        onOptionsClick={toggleDropdown}\n      />\n\n      <Dropdown\n        align=\"right\"\n        actionElement={optionsRef.current}\n        isShown={isDropdownShown}\n      >\n        <Dropdown.Option onClick={executeTrack}>Выполнить</Dropdown.Option>\n        <Dropdown.Option onClick={copyTrack}>Скопировать</Dropdown.Option>\n        <Dropdown.Divider />\n        <Dropdown.Option variant=\"destructive\" onClick={deleteFromHistory}>Удалить</Dropdown.Option>\n      </Dropdown>\n    </li>\n  );\n}\n\nconst mapDispatchToProps = {\n  selectTrack,\n  selectLastTrack,\n  deleteTrack,\n  setRequest,\n  setResponse,\n  sendRequest,\n};\n\nexport default compose(\n  React.memo,\n  connect(null, mapDispatchToProps),\n)(HistoryListItem);\n","export function copyToClipboard(value) {\n  const textarea = document.createElement('textarea');\n  textarea.setAttribute('type', 'hidden');\n  textarea.value = value;\n\n  document.body.append(textarea);\n\n  textarea.select();\n  textarea.setSelectionRange(0, 99999);\n\n  document.execCommand('copy');\n\n  textarea.remove();\n}\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport { connect } from 'react-redux';\n\nimport HistoryListItem from './Item';\n\nfunction HistoryList({ history }) {\n  const listRef = useRef(null);\n  const [dropdownIdShown, setDropdownIdShown] = useState(null);\n\n  const toggleDropdown = useCallback((newId) => {\n    setDropdownIdShown(prevId => prevId === newId ? null : newId);\n  }, [setDropdownIdShown]);\n\n  const closeDropdownHandler = (event) => {\n    if (!event.target.closest('.track__options')) {\n      toggleDropdown(null);\n    }\n  };\n\n  useEffect(() => {\n    const currentListElement = listRef.current;\n\n    document.addEventListener('click', closeDropdownHandler);\n    currentListElement.addEventListener('scroll', closeDropdownHandler)\n\n    return () => {\n      document.removeEventListener('click', closeDropdownHandler);\n      currentListElement.removeEventListener('scroll', closeDropdownHandler)\n    }\n  });\n\n  return (\n    <ul className=\"history__list\" ref={listRef}>\n      {history.map((track) => (\n        <HistoryListItem\n          key={track.id}\n          track={track}\n          isDropdownShown={dropdownIdShown === track.id}\n          toggleDropdown={toggleDropdown}\n        />\n      ))}\n    </ul>\n  );\n}\n\nfunction mapStateToProps({ tracks: { history } }) {\n  return {\n    history,\n  };\n}\n\nexport default connect(mapStateToProps)(HistoryList);\n","import React from 'react';\nimport cn from 'classnames';\nimport { connect } from 'react-redux';\nimport { clearTracks } from 'redux/modules/tracks';\n\nimport HistoryList from './List';\nimport { ClearHistoryButton } from 'components/Common';\n\nimport './History.css';\n\nfunction History({ className, clearTracks }) {\n  const historyClassName = cn('history', className);\n\n  return (\n    <div className={historyClassName}>\n      <HistoryList />\n\n      <div className=\"history__clear\">\n        <ClearHistoryButton clear={clearTracks} />\n      </div>\n    </div>\n  );\n}\n\nconst mapDispatchToProps = {\n  clearTracks,\n};\n\nexport default connect(null, mapDispatchToProps)(History);\n","import React from 'react';\nimport cn from 'classnames';\nimport { connect } from 'react-redux';\nimport { setRequest } from 'redux/modules/request';\nimport { unselectTrack } from 'redux/modules/tracks';\nimport { stringify } from 'utils/json';\n\nimport { Field, Split } from 'components/Common';\n\nimport './RequestResponse.css';\n\nfunction RequestResponse({\n  className,\n  currentTrack,\n  request,\n  response,\n  isRequestInvalid,\n  isResponseInvalid,\n  setRequest,\n  unselectTrack,\n}) {\n  const requestResponseClassName = cn('requestResponse', className);\n\n  const handleFieldChange = (event) => {\n    setRequest(event.target.value);\n\n    if (currentTrack) {\n      unselectTrack(currentTrack.id);\n    }\n  };\n\n  return (\n    <div className={requestResponseClassName}>\n      <Split className=\"requestResponse__split\">\n        <Field\n          className=\"requestResponse__editor\"\n          component=\"textarea\"\n          name=\"request\"\n          label=\"Запрос:\"\n          value={request}\n          invalid={isRequestInvalid}\n          onChange={handleFieldChange}\n        />\n\n        <Field\n          className=\"requestResponse__editor\"\n          component=\"textarea\"\n          name=\"response\"\n          label=\"Ответ:\"\n          value={response}\n          invalid={isResponseInvalid}\n          disabled\n        />\n      </Split>\n    </div>\n  );\n}\n\nfunction mapStateToProps({ request, response, tracks: { current } }) {\n  return {\n    currentTrack: current,\n    request: current ? stringify(current.request) : request.value,\n    response: current ? stringify(current.response || current.error): response.value,\n    isRequestInvalid: request.isInvalid,\n    isResponseInvalid: response.isError,\n  };\n}\n\nconst mapDispatchToProps = {\n  setRequest,\n  unselectTrack,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RequestResponse);\n","import React from 'react';\nimport cn from 'classnames';\nimport { connect } from 'react-redux';\nimport { sendRequest, formatRequest } from 'redux/modules/request';\n\nimport { SendRequestButton, GitHubLink, FormatRequestButton } from 'components/Common';\n\nimport './Footer.css';\n\nfunction Footer({ className, isRequesting, sendRequest, formatRequest }) {\n  const footerClassName = cn('footer', className);\n\n  return (\n    <div className={footerClassName}>\n      <SendRequestButton\n        send={sendRequest}\n        loading={isRequesting}\n      />\n\n      <GitHubLink\n        className=\"footer__gitHubLink\"\n        login=\"testerimo\"\n      />\n\n      <FormatRequestButton\n        className=\"footer__formatRequest\"\n        format={formatRequest}\n      />\n    </div>\n  );\n}\n\nfunction mapStateToProps({ request: { isRequesting } }) {\n  return {\n    isRequesting,\n  };\n}\n\nconst mapDispatchToProps = {\n  formatRequest,\n  sendRequest,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Footer);\n","import React from 'react';\n\nimport Header from './Header';\nimport History from './History';\nimport RequestResponse from './RequestResponse';\nimport Footer from './Footer';\n\nimport './Console.css';\n\nexport default function Console() {\n  return (\n    <div className=\"console\">\n      <Header className=\"console__header\" />\n      <History className=\"console__history\"/>\n      <RequestResponse className=\"console__requestResponse\" />\n      <Footer className=\"console__footer\" />\n    </div>\n  );\n}\n","import React, { useEffect } from 'react';\nimport { connect } from 'react-redux';\nimport { session } from 'redux/modules/auth';\n\nimport Login from '../Login';\nimport Console from '../Console';\n\nimport './App.css';\nimport './variables.css';\n\nfunction App({ isSessionRequesting, isAuthenticated, session }) {\n  useEffect(() => {\n    session();\n  });\n\n  return isSessionRequesting\n    ? null\n    : isAuthenticated\n      ? <Console />\n      : <Login />;\n}\n\nfunction mapStateToProps({ auth: { isSessionRequesting, isAuthenticated } }) {\n  return {\n    isSessionRequesting,\n    isAuthenticated,\n  };\n}\n\nconst mapDispatchToProps = {\n  session,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport store from 'redux/store';\n\nimport App from 'components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n        <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}